{"version":3,"sources":["../src/PageClick.js"],"names":[],"mappings":";;;;;;AAAA;;;;AACA;;;;AAGA,IAAM,YAAY,gBAAM,WAAN,CAAkB;AAAA;;AAClC,aAAW;AACT,cAAU,gBAAM,SAAN,CAAgB,IAAhB,CAAqB,UADtB;AAET,aAAS,gBAAM,SAAN,CAAgB,IAAhB,CAAqB,UAFrB;AAGT,iBAAa,gBAAM,SAAN,CAAgB,IAHpB;AAIT,kBAAc,gBAAM,SAAN,CAAgB,IAJrB;AAKT,iBAAa,gBAAM,SAAN,CAAgB;AALpB,GADuB;;AAUlC,iBAVkC,6BAUhB;AAChB,WAAO;AACL,mBAAa;AADR,KAAP;AAGD,GAdiC;AAiBlC,oBAjBkC,gCAiBb;AACnB,SAAK,WAAL,GAAmB,KAAnB;AACD,GAnBiC;AAsBlC,mBAtBkC,+BAsBd;AAClB,WAAO,MAAP,CAAc,gBAAd,CAA+B,YAA/B,EAA6C,KAAK,eAAlD,EAAmE,KAAnE;AACA,WAAO,MAAP,CAAc,gBAAd,CAA+B,UAA/B,EAA2C,KAAK,iBAAhD,EAAmE,KAAnE;AACA,WAAO,MAAP,CAAc,gBAAd,CAA+B,WAA/B,EAA4C,KAAK,eAAjD,EAAkE,KAAlE;AACA,WAAO,MAAP,CAAc,gBAAd,CAA+B,SAA/B,EAA0C,KAAK,iBAA/C,EAAkE,KAAlE;AACD,GA3BiC;;;AA8BlC,iFA9BkC;;AAiClC,sBAjCkC,kCAiCX;AACrB,WAAO,MAAP,CAAc,mBAAd,CAAkC,YAAlC,EAAgD,KAAK,eAArD,EAAsE,KAAtE;AACA,WAAO,MAAP,CAAc,mBAAd,CAAkC,UAAlC,EAA8C,KAAK,iBAAnD,EAAsE,KAAtE;AACA,WAAO,MAAP,CAAc,mBAAd,CAAkC,WAAlC,EAA+C,KAAK,eAApD,EAAqE,KAArE;AACA,WAAO,MAAP,CAAc,mBAAd,CAAkC,SAAlC,EAA6C,KAAK,iBAAlD,EAAqE,KAArE;AACD,GAtCiC;AAyClC,iBAzCkC,6BAyCT;AAAA;;AACvB,QAAI,KAAK,WAAT,EAAsB;AACpB;AACD;AACD,mBAAK,KAAL,EAAW,OAAX;AACD,GA9CiC;AAiDlC,mBAjDkC,+BAiDd;AAClB,SAAK,WAAL,GAAmB,KAAnB;AACD,GAnDiC;AAsDlC,aAtDkC,yBAsDb;AACnB,SAAK,WAAL,GAAmB,IAAnB;AACA,QAAI,KAAK,KAAL,CAAW,WAAf,EAA4B;AAAA;;AAC1B,sBAAK,KAAL,EAAW,WAAX;AACD;AACF,GA3DiC;AA8DlC,cA9DkC,0BA8DZ;AACpB,SAAK,WAAL,GAAmB,IAAnB;AACA,QAAI,KAAK,KAAL,CAAW,YAAf,EAA6B;AAAA;;AAC3B,sBAAK,KAAL,EAAW,YAAX;AACD;AACF,GAnEiC;AAsElC,QAtEkC,oBAsEzB;AACP,QAAM,QAAQ,KAAK,KAAL,CAAW,WAAX,GAAyB;AACrC,mBAAa,KAAK,WADmB;AAErC,oBAAc,KAAK;AAFkB,KAAzB,GAGV,EAHJ;;AAKA,WAAO,gBAAM,YAAN,CAAmB,gBAAM,QAAN,CAAe,IAAf,CAAoB,KAAK,KAAL,CAAW,QAA/B,CAAnB,EAA6D,KAA7D,CAAP;AACD;AA7EiC,CAAlB,CAAlB;;kBAiFe,S","file":"PageClick.js","sourcesContent":["import React from 'react';\nimport {shouldComponentUpdate} from 'react/lib/ReactComponentWithPureRenderMixin';\n\n\nconst PageClick = React.createClass({\n  propTypes: {\n    children: React.PropTypes.node.isRequired,\n    onClick: React.PropTypes.func.isRequired,\n    onMouseDown: React.PropTypes.func,\n    onTouchStart: React.PropTypes.func,\n    outsideOnly: React.PropTypes.bool\n  },\n\n\n  getDefaultProps() {\n    return {\n      outsideOnly: true\n    };\n  },\n\n\n  componentWillMount() {\n    this.insideClick = false;\n  },\n\n\n  componentDidMount() {\n    global.window.addEventListener('touchstart', this.onDocumentClick, false);\n    global.window.addEventListener('touchend', this.onDocumentMouseUp, false);\n    global.window.addEventListener('mousedown', this.onDocumentClick, false);\n    global.window.addEventListener('mouseup', this.onDocumentMouseUp, false);\n  },\n\n\n  shouldComponentUpdate,\n\n\n  componentWillUnmount() {\n    global.window.removeEventListener('touchstart', this.onDocumentClick, false);\n    global.window.removeEventListener('touchend', this.onDocumentMouseUp, false);\n    global.window.removeEventListener('mousedown', this.onDocumentClick, false);\n    global.window.removeEventListener('mouseup', this.onDocumentMouseUp, false);\n  },\n\n\n  onDocumentClick(...args) {\n    if (this.insideClick) {\n      return;\n    }\n    this.props.onClick(...args);\n  },\n\n\n  onDocumentMouseUp() {\n    this.insideClick = false;\n  },\n\n\n  onMouseDown(...args) {\n    this.insideClick = true;\n    if (this.props.onMouseDown) {\n      this.props.onMouseDown(...args);\n    }\n  },\n\n\n  onTouchStart(...args) {\n    this.insideClick = true;\n    if (this.props.onTouchStart) {\n      this.props.onTouchStart(...args);\n    }\n  },\n\n\n  render() {\n    const props = this.props.outsideOnly ? {\n      onMouseDown: this.onMouseDown,\n      onTouchStart: this.onTouchStart\n    } : {};\n\n    return React.cloneElement(React.Children.only(this.props.children), props);\n  }\n});\n\n\nexport default PageClick;\n"]}